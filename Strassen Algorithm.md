# Strassen Algorithm
- - -
* 알고리즘 설명 & 코드 설명

  슈트라센 알고리즘은 n*n 행렬을 곱하면 n 세 제곱의 시간이 걸리는 것을 단축시키고자 만든 알고리즘입니다.
  
  
  이것을 줄이고자 수학자들이 생각해 낸 것이 곱셈을 줄이고 덧셈을 늘리자 입니다. 컴퓨터에서는 곱셈작업보다 덧셈작업이 훨씬 가볍고 수월하기 때문입니다.
  
  
  슈트라센 알고리즘은 각각의 행렬을 4등분 하여서 새로운 행렬을 만들고 새로운 행렬들을 더해서 또 4등분 해주면서 `1 by 1` 이 될 때 까지 재귀적으로 반복해줍니다.
  
  
  이것을 하는 이유는 각각 등분한 행렬들을 더하고 곱해서 새로운 M1~M7 값을 만들고 이것들을 더하고 빼는 과정을 통해서 행렬 곱셈을 실행하기 위함입니다.

  
* 선언부

   선언부에서 while문을 넣은 이유는 슈트라센 구현에서 4등분으로 나눌 것이기 때문에 `2**n` 형태의 행렬이 필요합니다. 그래서 입력 값 n을 임의의 `2**n` 형태의 행렬을 만들 수 있도록 조절하고      `real_n` 이라는 변수를 통해서 출력할 때는 내가 원하는 값들만 출력할 수 있게 통제 하였습니다.
   
   
   ![선언부](https://user-images.githubusercontent.com/80373000/116236140-a8dfb480-a799-11eb-9965-a55d6bcac0c6.JPG)
    

  그리고 행렬의 값들은 임의로 받기 위해서 `random 유틸 클래스`를 이용했습니다.
  
  
* 슈트라센 함수를 위해 선언한 함수들


  ![슈트라센 구현 도구들](https://user-images.githubusercontent.com/80373000/116202820-f77b5780-a775-11eb-861e-f871658377e1.JPG)
  
  
  슈트라센 구현부를 채워줄 함수들 입니다.
  
  
  sum함수는 말 그대로 행렬들을 서로 더해주는 함수입니다.
  
  
  sub함수도 말 그대로 행렬들을 서로 빼주는 함수입니다.
  
  
  * 주의 깊게 봐야하는 함수는 divide 함수입니다.
  
  
    divide 함수는 하나의 행렬을 가져와서 그 행렬을 4등분 하는 과정을 만듭니다. But 한번에 4등분을 하는 과정은 아니고 각각의 2차원배열을 생성하고 그 2차원 배열에 나누고자 하는 행렬의 값을 담     아줍니다
    
    
    ![divide](https://user-images.githubusercontent.com/80373000/116203637-da935400-a776-11eb-9627-02dd2f97ca77.JPG)

    
    사진처럼 A행렬을 4등분해서 담을 2차원배열을 만들어주고, B행렬을 4등분해서 담을 2차원 배열을 만들어줍니다.
    
    
    그리고 각각의 2차원배열에 divide한 값들을 넣어주는 것 입니다.
    그리고 이 방법은 슈트라센 알고리즘 함수안에서 재귀적으로 구현 될 것이기 때문에 굳이 여러번 쪼개는 작업을 할 필요가 없습니다.
    
    
    앞서 코드를 보기 전 슈트라센의 구조는 이렇습니다.
    
    
## 슈트라센 원리
   중요한 점은 각각 등분한 새로운 행렬로 M1~M7을 정의 함으로 써 행렬의 곱셈과정을 줄여준다는 것 입니다.
   
   
   `n by n`을 쪼개서 `2 by 2` 까지 가면 7번의 곱셈과 18번의 덧셈으로 표현이 가능한데 이는 기존 방식보다 곱셈이 적다 그러므로 엄청 큰 행렬이 들어와서 n by n 을 많이 한다 가정하면 속도가 엄청    빨라집니다.
   
   
   ![슈트라센](https://user-images.githubusercontent.com/80373000/116205565-d9fbbd00-a778-11eb-999b-6f8d46a524bc.JPG)
    
    
## 슈트라센 구현 
  슈트라센 구현부에서는 앞서 말씀드렸던 divide 함수와 각각 등분한 값을 이용해 만든 M1~M7 그리고 combine 함수를 이용해서 행렬곱셈과정을 실행합니다.
  
  
  행렬의 길이 `n` 이 1일 경우에 슈트라센 알고리즘보다 그냥 일방적으로 계산하는 것이 빠르기 때문에 따로 분리를 해줍니다.
  슈트라센의 예시에서도 `2 by 2` 부터는 슈트라센이 조금 더 빠르기 때문에 알고리즘을 사용합니다.
  ![슈트라센 구현](https://user-images.githubusercontent.com/80373000/116204302-9e142800-a777-11eb-8eda-3d0a2beef3ff.JPG)
  
  
  * 메인함수 구현부  
    
    새로운 `C_matrix` 에 리턴받은 이차원배열(행렬) C의 주소를 넘겨받고 출력하면 원하는 행렬곱셈 값이 나오게 됩니다.
    
    
    성능 측정을 위해 `System.currentTimeMillis();` 를 사용하였습니다.
    
    
    ![메인함수](https://user-images.githubusercontent.com/80373000/116238384-3d4b1680-a79c-11eb-8f1d-9508026d76dc.JPG)



## 예제로 보는 성능

### 반복문을 3번쓴 즉 O(n**3) 형태 일때 걸리는 시간
![128](https://user-images.githubusercontent.com/80373000/116236997-aaf64300-a79a-11eb-9ed3-b68cc5e1b252.JPG)


### 슈트라센을 이용해서 풀었을 때 걸리는 시간.
![128-1](https://user-images.githubusercontent.com/80373000/116237003-ab8ed980-a79a-11eb-97b4-bae4e88fc101.JPG)


입력 값을 128넣어주었는데 성능차이가 엄청나기 시작합니다. 숫자가 커지면 커질수록 더 성능차이가 날 것입니다.


But 주의할 점은 사실 입력 값을 작게 넣었을 때는 크게 차이가 안납니다. 

